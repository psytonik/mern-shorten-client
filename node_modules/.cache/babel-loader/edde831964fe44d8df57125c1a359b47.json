{"ast":null,"code":"var _jsxFileName = \"/Users/anthonyfink/Work/mern-shorten-client/src/pages/CreatePage.js\",\n    _s = $RefreshSig$();\n\nimport { MDBInput, MDBRow } from \"mdb-react-ui-kit\";\nimport React, { useContext, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { BACK_END_LINK } from \"../constants/others.js\";\nimport { AuthContext } from \"../context/AuthContext.js\";\nimport { useHttp } from \"../shared/hooks/http.hook.js\";\nimport 'react-toastify/dist/ReactToastify.css';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CreatePage = () => {\n  _s();\n\n  const history = useHistory();\n  const auth = useContext(AuthContext);\n  const {\n    request\n  } = useHttp();\n  const [link, setLink] = useState('');\n\n  const pressHandler = async event => {\n    if (event.key === 'Enter') {\n      try {\n        const {\n          newLink\n        } = await request(`${BACK_END_LINK}/api/v1/link/generate`, 'POST', {\n          from: link\n        }, {\n          Authorization: `Bearer ${auth.token}`\n        });\n        toast.success('Link Successfully added');\n\n        if (newLink) {\n          history.push(`/detail/${newLink._id}`);\n        }\n      } catch (e) {\n        toast.error(e.message);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(MDBRow, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-8 offset-2 pt-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center\",\n        children: \"Short Link Generator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n        id: \"link\",\n        type: \"url\",\n        size: \"lg\",\n        value: link,\n        onChange: e => setLink(e.target.value),\n        onKeyPress: pressHandler,\n        label: \"Insert Your Link\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 3\n  }, this);\n};\n\n_s(CreatePage, \"014sdI1vdAFCuRWsOduv9O/U8t0=\", false, function () {\n  return [useHistory, useHttp];\n});\n\n_c = CreatePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreatePage\");","map":{"version":3,"names":["MDBInput","MDBRow","React","useContext","useState","useHistory","BACK_END_LINK","AuthContext","useHttp","ToastContainer","toast","CreatePage","history","auth","request","link","setLink","pressHandler","event","key","newLink","from","Authorization","token","success","push","_id","e","error","message","target","value"],"sources":["/Users/anthonyfink/Work/mern-shorten-client/src/pages/CreatePage.js"],"sourcesContent":["import {MDBInput, MDBRow} from \"mdb-react-ui-kit\";\nimport React, {useContext, useState} from \"react\";\nimport {useHistory} from \"react-router-dom\";\nimport {BACK_END_LINK} from \"../constants/others.js\";\nimport {AuthContext} from \"../context/AuthContext.js\";\nimport {useHttp} from \"../shared/hooks/http.hook.js\";\nimport 'react-toastify/dist/ReactToastify.css'\nimport { ToastContainer, toast } from 'react-toastify';\n\n\nexport const CreatePage = ()=> {\n\tconst history = useHistory()\n\tconst auth = useContext(AuthContext)\n\tconst {request} = useHttp();\n\tconst [link,setLink] = useState('');\n\n\tconst pressHandler = async event => {\n\t\tif(event.key === 'Enter'){\n\t\t\ttry{\n\n\t\t\t\tconst {newLink} = await request(\n\t\t\t\t\t`${BACK_END_LINK}/api/v1/link/generate`,\n\t\t\t\t\t'POST',\n\t\t\t\t\t{from:link},\n\t\t\t\t\t{Authorization:`Bearer ${auth.token}`}\n\t\t\t\t)\n\t\t\t\ttoast.success('Link Successfully added');\n\t\t\t\tif(newLink){\n\t\t\t\t\thistory.push(`/detail/${newLink._id}`);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\ttoast.error(e.message);\n\t\t\t}\n\t\t}\n\t}\n\treturn (\n\t\t<MDBRow>\n\t\t\t<div className=\"col-8 offset-2 pt-2\">\n\t\t\t\t<h1 className=\"text-center\">Short Link Generator</h1>\n\t\t\t\t<MDBInput\n\t\t\t\t\tid='link'\n\t\t\t\t\ttype='url'\n\t\t\t\t\tsize='lg'\n\t\t\t\t\tvalue={link}\n\t\t\t\t\tonChange={e=>setLink(e.target.value)}\n\t\t\t\t\tonKeyPress={pressHandler}\n\t\t\t\t\tlabel=\"Insert Your Link\"\n\t\t\t\t\t/>\n\t\t\t\t<ToastContainer/>\n\t\t\t</div>\n\t\t</MDBRow>\n\t)\n}\n"],"mappings":";;;AAAA,SAAQA,QAAR,EAAkBC,MAAlB,QAA+B,kBAA/B;AACA,OAAOC,KAAP,IAAeC,UAAf,EAA2BC,QAA3B,QAA0C,OAA1C;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,SAAQC,aAAR,QAA4B,wBAA5B;AACA,SAAQC,WAAR,QAA0B,2BAA1B;AACA,SAAQC,OAAR,QAAsB,8BAAtB;AACA,OAAO,uCAAP;AACA,SAASC,cAAT,EAAyBC,KAAzB,QAAsC,gBAAtC;;AAGA,OAAO,MAAMC,UAAU,GAAG,MAAK;EAAA;;EAC9B,MAAMC,OAAO,GAAGP,UAAU,EAA1B;EACA,MAAMQ,IAAI,GAAGV,UAAU,CAACI,WAAD,CAAvB;EACA,MAAM;IAACO;EAAD,IAAYN,OAAO,EAAzB;EACA,MAAM,CAACO,IAAD,EAAMC,OAAN,IAAiBZ,QAAQ,CAAC,EAAD,CAA/B;;EAEA,MAAMa,YAAY,GAAG,MAAMC,KAAN,IAAe;IACnC,IAAGA,KAAK,CAACC,GAAN,KAAc,OAAjB,EAAyB;MACxB,IAAG;QAEF,MAAM;UAACC;QAAD,IAAY,MAAMN,OAAO,CAC7B,GAAER,aAAc,uBADa,EAE9B,MAF8B,EAG9B;UAACe,IAAI,EAACN;QAAN,CAH8B,EAI9B;UAACO,aAAa,EAAE,UAAST,IAAI,CAACU,KAAM;QAApC,CAJ8B,CAA/B;QAMAb,KAAK,CAACc,OAAN,CAAc,yBAAd;;QACA,IAAGJ,OAAH,EAAW;UACVR,OAAO,CAACa,IAAR,CAAc,WAAUL,OAAO,CAACM,GAAI,EAApC;QACA;MACD,CAZD,CAYE,OAAOC,CAAP,EAAU;QACXjB,KAAK,CAACkB,KAAN,CAAYD,CAAC,CAACE,OAAd;MACA;IACD;EACD,CAlBD;;EAmBA,oBACC,QAAC,MAAD;IAAA,uBACC;MAAK,SAAS,EAAC,qBAAf;MAAA,wBACC;QAAI,SAAS,EAAC,aAAd;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADD,eAEC,QAAC,QAAD;QACC,EAAE,EAAC,MADJ;QAEC,IAAI,EAAC,KAFN;QAGC,IAAI,EAAC,IAHN;QAIC,KAAK,EAAEd,IAJR;QAKC,QAAQ,EAAEY,CAAC,IAAEX,OAAO,CAACW,CAAC,CAACG,MAAF,CAASC,KAAV,CALrB;QAMC,UAAU,EAAEd,YANb;QAOC,KAAK,EAAC;MAPP;QAAA;QAAA;QAAA;MAAA,QAFD,eAWC,QAAC,cAAD;QAAA;QAAA;QAAA;MAAA,QAXD;IAAA;MAAA;MAAA;MAAA;IAAA;EADD;IAAA;IAAA;IAAA;EAAA,QADD;AAiBA,CA1CM;;GAAMN,U;UACIN,U,EAEEG,O;;;KAHNG,U"},"metadata":{},"sourceType":"module"}