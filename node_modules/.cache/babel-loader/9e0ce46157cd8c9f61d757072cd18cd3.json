{"ast":null,"code":"import _regeneratorRuntime from\"/Users/anthonyfink/Work/mern-shorten/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/anthonyfink/Work/mern-shorten/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/anthonyfink/Work/mern-shorten/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{MDBInput,MDBRow}from\"mdb-react-ui-kit\";import React,{useContext,useState}from\"react\";import{useHistory}from\"react-router-dom\";import{BACK_END_LINK}from\"../constants/others.js\";import{AuthContext}from\"../context/AuthContext.js\";import{useHttp}from\"../shared/hooks/http.hook.js\";import'react-toastify/dist/ReactToastify.css';import{ToastContainer,toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var CreatePage=function CreatePage(){var history=useHistory();var auth=useContext(AuthContext);var _useHttp=useHttp(),request=_useHttp.request;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),link=_useState2[0],setLink=_useState2[1];var pressHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(event.key==='Enter')){_context.next=14;break;}_context.prev=1;_context.next=4;return request(\"\".concat(BACK_END_LINK,\"/api/v1/link/generate\"),'POST',{from:link},{Authorization:\"Bearer \".concat(auth.token)});case 4:data=_context.sent;_context.next=7;return toast.success('Link Successfully added');case 7:_context.next=9;return history.push(\"/detail/\".concat(data.link._id));case 9:_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);toast(_context.t0.message);case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));return function pressHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(MDBRow,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-8 offset-2 pt-2\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"Short Link Generator\"}),/*#__PURE__*/_jsx(MDBInput,{id:\"link\",type:\"url\",size:\"lg\",value:link,onChange:function onChange(e){return setLink(e.target.value);},onKeyPress:pressHandler,label:\"Insert Your Link\"}),/*#__PURE__*/_jsx(ToastContainer,{})]})});};","map":{"version":3,"names":["MDBInput","MDBRow","React","useContext","useState","useHistory","BACK_END_LINK","AuthContext","useHttp","ToastContainer","toast","CreatePage","history","auth","request","link","setLink","pressHandler","event","key","from","Authorization","token","data","success","push","_id","message","e","target","value"],"sources":["/Users/anthonyfink/Work/mern-shorten/client/src/pages/CreatePage.js"],"sourcesContent":["import {MDBInput, MDBRow} from \"mdb-react-ui-kit\";\nimport React, {useContext, useState} from \"react\";\nimport {useHistory} from \"react-router-dom\";\nimport {BACK_END_LINK} from \"../constants/others.js\";\nimport {AuthContext} from \"../context/AuthContext.js\";\nimport {useHttp} from \"../shared/hooks/http.hook.js\";\nimport 'react-toastify/dist/ReactToastify.css'\nimport { ToastContainer, toast } from 'react-toastify';\n\n\nexport const CreatePage = ()=> {\n\tconst history = useHistory()\n\tconst auth = useContext(AuthContext)\n\tconst {request} = useHttp();\n\tconst [link,setLink] = useState('');\n\n\tconst pressHandler = async event => {\n\t\tif(event.key === 'Enter'){\n\t\t\ttry{\n\t\t\t\tconst data = await request(\n\t\t\t\t\t`${BACK_END_LINK}/api/v1/link/generate`,\n\t\t\t\t\t'POST',\n\t\t\t\t\t{from:link},\n\t\t\t\t\t{Authorization:`Bearer ${auth.token}`}\n\t\t\t\t)\n\t\t\t\tawait toast.success('Link Successfully added');\n\t\t\t\tawait history.push(`/detail/${data.link._id}`)\n\t\t\t} catch (e) {\n\t\t\t\ttoast(e.message);\n\t\t\t}\n\t\t}\n\t}\n\treturn (\n\t\t<MDBRow>\n\t\t\t<div className=\"col-8 offset-2 pt-2\">\n\t\t\t\t<h1 className=\"text-center\">Short Link Generator</h1>\n\t\t\t\t<MDBInput\n\t\t\t\t\tid='link'\n\t\t\t\t\ttype='url'\n\t\t\t\t\tsize='lg'\n\t\t\t\t\tvalue={link}\n\t\t\t\t\tonChange={e=>setLink(e.target.value)}\n\t\t\t\t\tonKeyPress={pressHandler}\n\t\t\t\t\tlabel=\"Insert Your Link\"\n\t\t\t\t\t/>\n\t\t\t\t<ToastContainer/>\n\t\t\t</div>\n\t\t</MDBRow>\n\t)\n}\n"],"mappings":"mZAAA,OAAQA,QAAR,CAAkBC,MAAlB,KAA+B,kBAA/B,CACA,MAAOC,MAAP,EAAeC,UAAf,CAA2BC,QAA3B,KAA0C,OAA1C,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CACA,OAAQC,aAAR,KAA4B,wBAA5B,CACA,OAAQC,WAAR,KAA0B,2BAA1B,CACA,OAAQC,OAAR,KAAsB,8BAAtB,CACA,MAAO,uCAAP,CACA,OAASC,cAAT,CAAyBC,KAAzB,KAAsC,gBAAtC,C,wFAGA,MAAO,IAAMC,WAAU,CAAG,QAAbA,WAAa,EAAK,CAC9B,GAAMC,QAAO,CAAGP,UAAU,EAA1B,CACA,GAAMQ,KAAI,CAAGV,UAAU,CAACI,WAAD,CAAvB,CACA,aAAkBC,OAAO,EAAzB,CAAOM,OAAP,UAAOA,OAAP,CACA,cAAuBV,QAAQ,CAAC,EAAD,CAA/B,wCAAOW,IAAP,eAAYC,OAAZ,eAEA,GAAMC,aAAY,4FAAG,iBAAMC,KAAN,kIACjBA,KAAK,CAACC,GAAN,GAAc,OADG,iEAGCL,QAAO,WACtBR,aADsB,0BAEzB,MAFyB,CAGzB,CAACc,IAAI,CAACL,IAAN,CAHyB,CAIzB,CAACM,aAAa,kBAAWR,IAAI,CAACS,KAAhB,CAAd,CAJyB,CAHR,QAGZC,IAHY,qCASZb,MAAK,CAACc,OAAN,CAAc,yBAAd,CATY,8BAUZZ,QAAO,CAACa,IAAR,mBAAwBF,IAAI,CAACR,IAAL,CAAUW,GAAlC,EAVY,yFAYlBhB,KAAK,CAAC,YAAEiB,OAAH,CAAL,CAZkB,qEAAH,kBAAZV,aAAY,4CAAlB,CAgBA,mBACC,KAAC,MAAD,wBACC,aAAK,SAAS,CAAC,qBAAf,wBACC,WAAI,SAAS,CAAC,aAAd,kCADD,cAEC,KAAC,QAAD,EACC,EAAE,CAAC,MADJ,CAEC,IAAI,CAAC,KAFN,CAGC,IAAI,CAAC,IAHN,CAIC,KAAK,CAAEF,IAJR,CAKC,QAAQ,CAAE,kBAAAa,CAAC,QAAEZ,QAAO,CAACY,CAAC,CAACC,MAAF,CAASC,KAAV,CAAT,EALZ,CAMC,UAAU,CAAEb,YANb,CAOC,KAAK,CAAC,kBAPP,EAFD,cAWC,KAAC,cAAD,IAXD,GADD,EADD,CAiBA,CAvCM"},"metadata":{},"sourceType":"module"}