{"ast":null,"code":"import _regeneratorRuntime from\"/Users/anthonyfink/Work/mern-shorten/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/anthonyfink/Work/mern-shorten/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/anthonyfink/Work/mern-shorten/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useCallback,useContext,useEffect,useState}from\"react\";import LinksList from\"../components/linksList.js\";import Loader from\"../components/loader.js\";import{BACK_END_LINK}from\"../constants/others.js\";import{AuthContext}from\"../context/AuthContext.js\";import{useHttp}from\"../shared/hooks/http.hook.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var LinksPage=function LinksPage(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),links=_useState2[0],setLinks=_useState2[1];var _useHttp=useHttp(),request=_useHttp.request,loading=_useHttp.loading;var _useContext=useContext(AuthContext),token=_useContext.token;var getLinks=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return request(\"\".concat(BACK_END_LINK,\"/api/v1/link\"),'GET',null,{Authorization:\"Bearer \".concat(token)});case 3:data=_context.sent;setLinks(data);_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);})),[token,request]);useEffect(function(){getLinks().then(function(r){return r;});},[getLinks]);if(loading){return/*#__PURE__*/_jsx(Loader,{});}return/*#__PURE__*/_jsx(_Fragment,{children:!loading&&/*#__PURE__*/_jsx(LinksList,{links:links})});};","map":{"version":3,"names":["React","useCallback","useContext","useEffect","useState","LinksList","Loader","BACK_END_LINK","AuthContext","useHttp","LinksPage","links","setLinks","request","loading","token","getLinks","Authorization","data","then","r"],"sources":["/Users/anthonyfink/Work/mern-shorten/client/src/pages/LinksPage.js"],"sourcesContent":["import React, {useCallback, useContext, useEffect, useState} from \"react\";\nimport LinksList from \"../components/linksList.js\";\nimport Loader from \"../components/loader.js\";\nimport {BACK_END_LINK} from \"../constants/others.js\";\nimport {AuthContext} from \"../context/AuthContext.js\";\nimport {useHttp} from \"../shared/hooks/http.hook.js\";\n\n\n\nexport const LinksPage = ()=> {\n\tconst [links,setLinks] = useState(null);\n\tconst {request,loading} = useHttp();\n\tconst {token} = useContext(AuthContext)\n\n\tconst getLinks = useCallback(async() => {\n\t\ttry{\n\t\t\tconst data = await request(`${BACK_END_LINK}/api/v1/link`,'GET',null,{Authorization:`Bearer ${token}`})\n\t\t\tsetLinks(data);\n\t\t}catch (e) {}\n\t},[token,request])\n\n\tuseEffect(()=>{\n\t\tgetLinks().then(r=>r)\n\t},[getLinks])\n\n\tif(loading){\n\t\treturn <Loader/>\n\t}\n\treturn (\n\t\t<>\n\t\t\t{!loading && <LinksList links={links}/>}\n\t\t</>\n\t)\n}\n"],"mappings":"mZAAA,MAAOA,MAAP,EAAeC,WAAf,CAA4BC,UAA5B,CAAwCC,SAAxC,CAAmDC,QAAnD,KAAkE,OAAlE,CACA,MAAOC,UAAP,KAAsB,4BAAtB,CACA,MAAOC,OAAP,KAAmB,yBAAnB,CACA,OAAQC,aAAR,KAA4B,wBAA5B,CACA,OAAQC,WAAR,KAA0B,2BAA1B,CACA,OAAQC,OAAR,KAAsB,8BAAtB,C,gGAIA,MAAO,IAAMC,UAAS,CAAG,QAAZA,UAAY,EAAK,CAC7B,cAAyBN,QAAQ,CAAC,IAAD,CAAjC,wCAAOO,KAAP,eAAaC,QAAb,eACA,aAA0BH,OAAO,EAAjC,CAAOI,OAAP,UAAOA,OAAP,CAAeC,OAAf,UAAeA,OAAf,CACA,gBAAgBZ,UAAU,CAACM,WAAD,CAA1B,CAAOO,KAAP,aAAOA,KAAP,CAEA,GAAMC,SAAQ,CAAGf,WAAW,wEAAC,oLAERY,QAAO,WAAIN,aAAJ,iBAAgC,KAAhC,CAAsC,IAAtC,CAA2C,CAACU,aAAa,kBAAWF,KAAX,CAAd,CAA3C,CAFC,QAErBG,IAFqB,eAG3BN,QAAQ,CAACM,IAAD,CAAR,CAH2B,iJAAD,GAK1B,CAACH,KAAD,CAAOF,OAAP,CAL0B,CAA5B,CAOAV,SAAS,CAAC,UAAI,CACba,QAAQ,GAAGG,IAAX,CAAgB,SAAAC,CAAC,QAAEA,EAAF,EAAjB,EACA,CAFQ,CAEP,CAACJ,QAAD,CAFO,CAAT,CAIA,GAAGF,OAAH,CAAW,CACV,mBAAO,KAAC,MAAD,IAAP,CACA,CACD,mBACC,yBACE,CAACA,OAAD,eAAY,KAAC,SAAD,EAAW,KAAK,CAAEH,KAAlB,EADd,EADD,CAKA,CAxBM"},"metadata":{},"sourceType":"module"}