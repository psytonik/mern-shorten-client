{"ast":null,"code":"import _regeneratorRuntime from\"/Users/anthonyfink/Work/mern-shorten/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/anthonyfink/Work/mern-shorten/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/anthonyfink/Work/mern-shorten/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useCallback,useContext,useEffect,useState}from\"react\";import{useParams}from'react-router-dom';import LinkCard from\"../components/linkCard.js\";import LinkChart from\"../components/linkChart.js\";import Loader from\"../components/loader.js\";import{BACK_END_LINK}from\"../constants/others.js\";import{AuthContext}from\"../context/AuthContext.js\";import{useHttp}from\"../shared/hooks/http.hook.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var DetailPage=function DetailPage(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),link=_useState2[0],setLink=_useState2[1];var linkId=useParams().id;var _useHttp=useHttp(),request=_useHttp.request,loading=_useHttp.loading;var _useContext=useContext(AuthContext),token=_useContext.token;var getLink=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return request(\"\".concat(BACK_END_LINK,\"/api/v1/link/\").concat(linkId),\"GET\",null,{Authorization:\"Bearer \".concat(token)});case 3:data=_context.sent;setLink(data);_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);})),[token,linkId,request]);useEffect(function(){getLink().then(function(r){return r;});},[getLink]);if(loading){return/*#__PURE__*/_jsx(Loader,{});}return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 mt-3\",children:!loading&&link&&/*#__PURE__*/_jsx(LinkCard,{link:link})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:!loading&&link&&/*#__PURE__*/_jsx(LinkChart,{link:link})})]})});};","map":{"version":3,"names":["React","useCallback","useContext","useEffect","useState","useParams","LinkCard","LinkChart","Loader","BACK_END_LINK","AuthContext","useHttp","DetailPage","link","setLink","linkId","id","request","loading","token","getLink","Authorization","data","then","r"],"sources":["/Users/anthonyfink/Work/mern-shorten/client/src/pages/DetailPage.js"],"sourcesContent":["import React, {useCallback, useContext, useEffect, useState} from \"react\";\nimport { useParams} from 'react-router-dom';\nimport LinkCard from \"../components/linkCard.js\";\nimport LinkChart from \"../components/linkChart.js\";\nimport Loader from \"../components/loader.js\";\nimport {BACK_END_LINK} from \"../constants/others.js\";\nimport {AuthContext} from \"../context/AuthContext.js\";\nimport {useHttp} from \"../shared/hooks/http.hook.js\";\n\n\n\nexport const DetailPage = ()=> {\n\tconst [link,setLink] = useState(null);\n\tconst linkId = useParams().id;\n\tconst {request,loading} = useHttp();\n\tconst {token} = useContext(AuthContext)\n\n\tconst getLink = useCallback(async()=>{\n\t\ttry{\n\t\t\tconst data = await request(\n\t\t\t\t`${BACK_END_LINK}/api/v1/link/${linkId}`,\n\t\t\t\t\"GET\",\n\t\t\t\tnull,\n\t\t\t\t{Authorization:`Bearer ${token}`}\n\t\t\t);\n\t\t\tsetLink(data)\n\t\t}catch (e) {}\n\t},[token,linkId,request])\n\n\tuseEffect(()=>{\n\t\tgetLink().then(r=>r);\n\t},[getLink]);\n\n\tif(loading){\n\t\treturn <Loader />\n\t}\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-md-4 mt-3\">\n\t\t\t\t\t{!loading && link && <LinkCard link={link} />}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-md-8\">\n\t\t\t\t\t{!loading && link && <LinkChart link={link}/>}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n"],"mappings":"mZAAA,MAAOA,MAAP,EAAeC,WAAf,CAA4BC,UAA5B,CAAwCC,SAAxC,CAAmDC,QAAnD,KAAkE,OAAlE,CACA,OAASC,SAAT,KAAyB,kBAAzB,CACA,MAAOC,SAAP,KAAqB,2BAArB,CACA,MAAOC,UAAP,KAAsB,4BAAtB,CACA,MAAOC,OAAP,KAAmB,yBAAnB,CACA,OAAQC,aAAR,KAA4B,wBAA5B,CACA,OAAQC,WAAR,KAA0B,2BAA1B,CACA,OAAQC,OAAR,KAAsB,8BAAtB,C,wFAIA,MAAO,IAAMC,WAAU,CAAG,QAAbA,WAAa,EAAK,CAC9B,cAAuBR,QAAQ,CAAC,IAAD,CAA/B,wCAAOS,IAAP,eAAYC,OAAZ,eACA,GAAMC,OAAM,CAAGV,SAAS,GAAGW,EAA3B,CACA,aAA0BL,OAAO,EAAjC,CAAOM,OAAP,UAAOA,OAAP,CAAeC,OAAf,UAAeA,OAAf,CACA,gBAAgBhB,UAAU,CAACQ,WAAD,CAA1B,CAAOS,KAAP,aAAOA,KAAP,CAEA,GAAMC,QAAO,CAAGnB,WAAW,wEAAC,oLAEPgB,QAAO,WACtBR,aADsB,yBACOM,MADP,EAEzB,KAFyB,CAGzB,IAHyB,CAIzB,CAACM,aAAa,kBAAWF,KAAX,CAAd,CAJyB,CAFA,QAEpBG,IAFoB,eAQ1BR,OAAO,CAACQ,IAAD,CAAP,CAR0B,iJAAD,GAUzB,CAACH,KAAD,CAAOJ,MAAP,CAAcE,OAAd,CAVyB,CAA3B,CAYAd,SAAS,CAAC,UAAI,CACbiB,OAAO,GAAGG,IAAV,CAAe,SAAAC,CAAC,QAAEA,EAAF,EAAhB,EACA,CAFQ,CAEP,CAACJ,OAAD,CAFO,CAAT,CAIA,GAAGF,OAAH,CAAW,CACV,mBAAO,KAAC,MAAD,IAAP,CACA,CACD,mBACC,YAAK,SAAS,CAAC,WAAf,uBACC,aAAK,SAAS,CAAC,KAAf,wBACC,YAAK,SAAS,CAAC,eAAf,UACE,CAACA,OAAD,EAAYL,IAAZ,eAAoB,KAAC,QAAD,EAAU,IAAI,CAAEA,IAAhB,EADtB,EADD,cAIC,YAAK,SAAS,CAAC,UAAf,UACE,CAACK,OAAD,EAAYL,IAAZ,eAAoB,KAAC,SAAD,EAAW,IAAI,CAAEA,IAAjB,EADtB,EAJD,GADD,EADD,CAYA,CArCM"},"metadata":{},"sourceType":"module"}