{"ast":null,"code":"import _regeneratorRuntime from\"/Users/anthonyfink/Work/mern-shorten/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/anthonyfink/Work/mern-shorten/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/anthonyfink/Work/mern-shorten/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/anthonyfink/Work/mern-shorten/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/anthonyfink/Work/mern-shorten/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{MDBBtn,MDBCard,MDBCardBody,MDBCardFooter,MDBCardHeader,MDBCardTitle,MDBCheckbox,MDBInput}from\"mdb-react-ui-kit\";import React,{useContext,useEffect,useState}from\"react\";import{BACK_END_LINK}from\"../constants/others.js\";import{AuthContext}from\"../context/AuthContext.js\";import{useHttp}from\"../shared/hooks/http.hook.js\";import{UseMessage}from\"../shared/hooks/message.hook.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var AuthPage=function AuthPage(){var message=UseMessage();var auth=useContext(AuthContext);var _useHttp=useHttp(),loading=_useHttp.loading,request=_useHttp.request,error=_useHttp.error,clearErrors=_useHttp.clearErrors;var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var changeHandler=function changeHandler(event){setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},event.target.name,event.target.value)));};useEffect(function(){message(error);clearErrors();},[error,message,clearErrors]);var signUpHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return request(\"\".concat(BACK_END_LINK,\"/api/v1/auth/sign-up\"),'POST',_objectSpread({},form));case 3:data=_context.sent;message(data.message);_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function signUpHandler(){return _ref.apply(this,arguments);};}();var signInHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return request(\"\".concat(BACK_END_LINK,\"/api/v1/auth/sign-in\"),'POST',_objectSpread({},form));case 3:data=_context2.sent;message(data.message);auth.login(data.token,data.userId);_context2.next=10;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function signInHandler(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row text-center mt-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-3\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Sponsored by\"}),/*#__PURE__*/_jsx(\"a\",{href:\"https://flbba.org/\",target:\"_blank\",rel:\"noopener noreferrer\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://himselected.com/sp4.gif\",border:\"0\",alt:\"flbba.org\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(MDBCard,{className:\"shadow-5\",children:[/*#__PURE__*/_jsx(MDBCardHeader,{children:/*#__PURE__*/_jsx(MDBCardTitle,{children:\"Authorization\"})}),/*#__PURE__*/_jsxs(MDBCardBody,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-outline mb-3\",children:/*#__PURE__*/_jsx(MDBInput,{name:\"email\",id:\"email\",type:\"email\",label:\"Email\",size:\"lg\",value:form.email,onChange:changeHandler})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-outline mb-3\",children:/*#__PURE__*/_jsx(MDBInput,{name:\"password\",id:\"password\",type:\"password\",label:\"Password\",size:\"lg\",value:form.password,onChange:changeHandler,className:\"form-control mb-3\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-check d-flex justify-content-center mb-1\",children:/*#__PURE__*/_jsx(MDBCheckbox,{type:\"checkbox\",value:\"\",label:\"I have read and agree to the terms\"})})]}),/*#__PURE__*/_jsxs(MDBCardFooter,{className:\" d-grid d-md-flex justify-content-between\",children:[/*#__PURE__*/_jsx(MDBBtn,{outline:true,rounded:true,color:\"secondary\",size:\"lg\",disabled:loading,onClick:signInHandler,children:\" Sign In \"}),/*#__PURE__*/_jsx(MDBBtn,{color:\"info\",rounded:true,outline:true,size:\"lg\",onClick:signUpHandler,disabled:loading,children:\" Sign Up \"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-3\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Sponsored by\"}),/*#__PURE__*/_jsx(\"a\",{href:\"https://flbba.org/\",target:\"_blank\",rel:\"noopener noreferrer\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://himselected.com/sp4.gif\",border:\"0\",alt:\"flbba.org\"})})]})]})});};","map":{"version":3,"names":["MDBBtn","MDBCard","MDBCardBody","MDBCardFooter","MDBCardHeader","MDBCardTitle","MDBCheckbox","MDBInput","React","useContext","useEffect","useState","BACK_END_LINK","AuthContext","useHttp","UseMessage","AuthPage","message","auth","loading","request","error","clearErrors","email","password","form","setForm","changeHandler","event","target","name","value","signUpHandler","data","signInHandler","login","token","userId"],"sources":["/Users/anthonyfink/Work/mern-shorten/client/src/pages/AuthPage.js"],"sourcesContent":["\nimport {\n\tMDBBtn,\n\tMDBCard,\n\tMDBCardBody,\n\tMDBCardFooter,\n\tMDBCardHeader,\n\tMDBCardTitle,\n\tMDBCheckbox,\n\tMDBInput\n} from \"mdb-react-ui-kit\";\nimport React, {useContext, useEffect, useState} from \"react\";\nimport {BACK_END_LINK} from \"../constants/others.js\";\n\n\nimport {AuthContext} from \"../context/AuthContext.js\";\nimport {useHttp} from \"../shared/hooks/http.hook.js\";\nimport {UseMessage} from \"../shared/hooks/message.hook.js\";\n\nexport const AuthPage = () => {\n\tconst message = UseMessage();\n\tconst auth = useContext(AuthContext)\n\tconst {loading, request, error, clearErrors} = useHttp();\n\tconst [form, setForm] = useState({\n\t\temail: '',\n\t\tpassword: ''\n\t});\n\n\tconst changeHandler = (event) => {\n\t\tsetForm({...form, [event.target.name]: event.target.value})\n\t};\n\tuseEffect(() => {\n\t\t\tmessage(error)\n\t\tclearErrors();\n\t}, [error,message,clearErrors])\n\tconst signUpHandler = async () => {\n\t\ttry {\n\t\t\tconst data = await request(`${BACK_END_LINK}/api/v1/auth/sign-up`,'POST', {...form});\n\t\t\tmessage(data.message);\n\t\t} catch (e) {\n\t\t}\n\t}\n\tconst signInHandler = async () => {\n\t\ttry {\n\t\t\tconst data = await request(`${BACK_END_LINK}/api/v1/auth/sign-in`,'POST', {...form});\n\t\t\tmessage(data.message);\n\t\t\tauth.login(data.token,data.userId);\n\t\t} catch (e) {\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row text-center mt-5\">\n\t\t\t\t<div className=\"col-md-3\">\n\t\t\t\t\t<p>Sponsored by</p>\n\t\t\t\t\t<a href=\"https://flbba.org/\" target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t\t\t<img src=\"https://himselected.com/sp4.gif\" border=\"0\"  alt=\"flbba.org\"/>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-md-6\" >\n\t\t\t\t\t\t<MDBCard className=\"shadow-5\">\n\t\t\t\t\t\t\t<MDBCardHeader>\n\t\t\t\t\t\t\t\t<MDBCardTitle>Authorization</MDBCardTitle>\n\t\t\t\t\t\t\t</MDBCardHeader>\n\t\t\t\t\t\t\t<MDBCardBody>\n\t\t\t\t\t\t\t\t\t<div className=\"form-outline mb-3\">\n\t\t\t\t\t\t\t\t\t\t<MDBInput\n\t\t\t\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\t\t\t\tid='email'\n\t\t\t\t\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\t\t\t\t\t\t\tsize='lg'\n\t\t\t\t\t\t\t\t\t\t\tvalue={form.email}\n\t\t\t\t\t\t\t\t\t\t\tonChange={changeHandler}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"form-outline mb-3\">\n\t\t\t\t\t\t\t\t\t\t<MDBInput\n\t\t\t\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\t\t\t\tid='password'\n\t\t\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\t\t\t\t\tsize='lg'\n\t\t\t\t\t\t\t\t\t\t\tvalue={form.password}\n\t\t\t\t\t\t\t\t\t\t\tonChange={changeHandler}\n\t\t\t\t\t\t\t\t\t\t\tclassName='form-control mb-3'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"form-check d-flex justify-content-center mb-1\">\n\t\t\t\t\t\t\t\t\t<MDBCheckbox\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tvalue=\"\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"I have read and agree to the terms\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</MDBCardBody>\n\t\t\t\t\t\t\t<MDBCardFooter className=\" d-grid d-md-flex justify-content-between\">\n\t\t\t\t\t\t\t\t<MDBBtn\n\t\t\t\t\t\t\t\t\t\toutline\n\t\t\t\t\t\t\t\t\t\trounded\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\tsize='lg'\n\t\t\t\t\t\t\t\t        disabled={loading}\n\t\t\t\t\t\t\t\t        onClick={signInHandler}\n\t\t\t\t\t\t\t\t> Sign In </MDBBtn>\n\t\t\t\t\t\t\t\t<MDBBtn\n\t\t\t\t\t\t\t\t\t\tcolor=\"info\"\n\t\t\t\t\t\t\t\t\t\trounded\n\t\t\t\t\t\t\t\t\t\toutline\n\t\t\t\t\t\t\t\t\t\tsize='lg'\n\t\t\t\t\t\t\t\t        onClick={signUpHandler}\n\t\t\t\t\t\t\t\t        disabled={loading}\n\t\t\t\t\t\t\t\t> Sign Up </MDBBtn>\n\t\t\t\t\t\t\t</MDBCardFooter>\n\t\t\t\t\t\t</MDBCard>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-md-3\">\n\t\t\t\t\t<p>Sponsored by</p>\n\t\t\t\t\t<a href=\"https://flbba.org/\" target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t\t\t<img src=\"https://himselected.com/sp4.gif\" border=\"0\"  alt=\"flbba.org\"/>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t)\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}